<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!-- 타이핑효과 라이브러리 -->
    <script src="https://code.jquery.com/jquery-3.7.1.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <!-- 프레임 워크 이기에 다른 프레임 워크를 이용시  -->
</head>
    <script src="https://unpkg.com/typed.js@2.0.16/dist/typed.umd.js"></script>
    <link rel="stylesheet" href="../static/css/style.css">
</head>
<body>
    <div id="card" class="mb-3" style="display: inline-block; width: 40%;">
        <img src="../static/img/1.webp" alt="card" class="card-image">
        <div class="form-container">
            <h1 id="h1"> Open Card</h1>
            <form id="cardForm" action="#" method="post" class="mt-3">
                <input type="text" id="toNm" class="form-control" placeholder="이름">
                <input type="email" id="email" class="form-control" placeholder="이메일">
                <button type="button" id="btn" class="btn btn-success btn-block mt-3" >카드 받기</button>
            </form>
        </div>


    </div>


    <!-- 추가 -->
     <div id="letter" style="display: none;">

        <h1>
            <span id="typing-text1" style="font-size: 25px;"></span>
        </h1>

        <h1>
            <span id="typing-text2" style="font-size: 25px;"></span>
        </h1>

        <h1>
            <span id="typing-text3" style="font-size: 20px;"></span>
        </h1>

     </div>
    <div id="leaves">
        <div class="petal">🍁</div>
        <div class="petal">🍂</div>
        <div class="petal">🌿</div>
        <div class="petal">🍃</div>
        <div class="petal">🍄</div>
        <div class="petal">🌰</div>
        <div class="petal">🍁</div>
        <div class="petal">🍂</div>
        <div class="petal">🌿</div>
        <div class="petal">🍃</div>
        <div class="petal">🍄</div>
        <div class="petal">🌰</div>
        <div class="petal">🍁</div>
        <div class="petal">🍂</div>
        <div class="petal">🌿</div>
        <div class="petal">🍃</div>
        <div class="petal">🍄</div>
        <div class="petal">🌰</div>
        <div class="petal">🍁</div>
        <div class="petal">🍂</div>
        <div class="petal">🌿</div>
        <div class="petal">🍃</div>
        <div class="petal">🍄</div>
        <div class="petal">🌰</div>
       
        
    </div>
    <!-- 추가 -->

    <script>
        document.addEventListener('DOMContentLoaded',function (){
        // 추가
            var petals = document.querySelectorAll('.petal')
            $('#leaves').css('opacity','1');
            
            setInterval(ani_petals, 2000)
        // 추가
        function ani_petals(){
            for(var i =0; i<petals.length; i++){
                petals[i].style.left=Math.random() *90 +'%';
                petals[i].style.opacity=Math.random();
                petals[i].style.animationDuration = Math.random() * 3+1+'s';
                petals[i].style.animationDelay = Math.random() *2 +'s';
                petals[i].style.transform = `rotate(${Math.random() * 360}deg)`; 
                petals[i].style.fontSize = Math.random() * 30+100+'px';
            }
        }

            })

        var currentMessage ={ 'msg1' : ["To. 주디 "]
                              ,'msg2' : ["안녕 ^^ 가을이다..."]
                              ,'msg3' : ["from. 닉"]

        };

        function typingCard(){
            var options = {
                strings : currentMessage['msg1']
              , typeSpeed : 50
              , backSpeed : 30
              , loop : false
              , onComplete : function(self){
                    self.cursor.remove();
                    new Typed("#typing-text2", options1);
                }
            }
            var options1 = {
                strings : currentMessage['msg2']
              , typeSpeed : 50
              , backSpeed : 30
              , loop : false
              , onComplete : function(self){
                    self.cursor.remove();
                    onCompleteLast();
                }
            }
            var typed = new Typed("#typing-text1", options);
            function onCompleteLast(){
                new Typed("#typing-text3", {
                    strings : currentMessage['msg3']
                  , typeSpeed : 70
                  , backSpeed : 30
                  , showCursor : true
                  , cursorChar : "_"
                  , onComplete : function(self){
                    self.cursor.remove();
                  }
                })
            }
        }
        function fn_scroll(){
        
        }
        $(document).ready(function(){
            $("#btn").click(function(){
                // 전송
                // 정상응답시
                $("#cardForm").hide();
                typingCard();
                $("#letter").show();
            })
        })

    </script>
</body>
</html>